webpackJsonp([1],{"//rK":function(e,t){},"5/cE":function(e,t){},"5/sZ":function(e,t){},"93P3":function(e,t){},FVuk:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("MVMM"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=a("Z0/y")({name:"App"},n,!1,function(e){a("rpYN")},null,null).exports,i=a("zO6J"),l={data:function(){return{userName:"",userAvatar:"",loginState:!1}},methods:{logout:function(){console.log(123),window.sessionStorage.removeItem("userInfo"),this.loginState=!1,console.log(123)},login:function(){this.$router.push("/login")},handleOpen:function(){console.log("OPEN MENU")},handleClose:function(){console.log("close menu")}},mounted:function(){if(window.sessionStorage.getItem("userInfo")){var e=JSON.parse(window.sessionStorage.getItem("userInfo"));this.userName=e.userName,this.userAvatar=e.userAvatar,this.loginState=!0}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticStyle:{height:"100%"}},[a("el-aside",{staticClass:"side-bar",attrs:{width:"240px"}},[a("el-row",{staticClass:"title"},[e._v("Project")]),e._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo menu-bar",attrs:{"default-active":e.$route.path,"background-color":"#dce8e8","active-text-color":"teal",router:"","unique-opened":""},on:{open:e.handleOpen,close:e.handleClose}},[e._l(e.$router.options.routes,function(t,r){return t.hidden?e._e():[t.children&&t.children.length>0?a("el-submenu",{key:r,attrs:{index:r+""}},[a("template",{slot:"title"},[a("i",{class:t.iconCls}),e._v(e._s(t.name))]),e._v(" "),e._l(t.children,function(t){return t.hidden?e._e():a("el-menu-item",{key:t.path,attrs:{index:t.path}},[a("i",{class:t.iconCls}),e._v(e._s(t.name))])})],2):a("el-menu-item",{key:r,attrs:{index:t.path}},[a("i",{class:t.iconCls}),e._v(e._s(t.name))])]})],2)],1),e._v(" "),a("el-container",[a("el-header",{staticClass:"header",attrs:{height:"70px"}},[a("el-col",{staticClass:"userInfo"},[e.loginState?a("el-dropdown",{attrs:{trigger:"hover"}},[a("span",{staticClass:"userinfo-inner"},[a("img",{attrs:{src:this.userAvatar}}),e._v(e._s(e.userName))]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[e._v("我的消息")]),e._v(" "),a("el-dropdown-item",[e._v("设置")]),e._v(" "),a("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1):a("span",{staticClass:"userinfo-inner",on:{click:e.login}},[e._v("登录")])],1)],1),e._v(" "),a("el-main",{staticClass:"main"},[a("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},e._l(e.$route.matched,function(t){return a("el-breadcrumb-item",{key:t.name,attrs:{item:t}},[e._v(" "+e._s(t.name)+" ")])})),e._v(" "),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var d=a("Z0/y")(l,s,!1,function(e){a("u5O5")},"data-v-642a76bd",null).exports,c={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{on:{click:this.jumpBack}},[this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"warning"},[t("i",{staticClass:"el-icon-warning"}),this._v("\n    404 page not found\n    "),t("br"),this._v("\n    点击跳回首页\n  ")])}]};var u=a("Z0/y")({methods:{jumpBack:function(){this.$router.push({path:"/"})}}},c,!1,function(e){a("p/LW")},null,null).exports,m=a("3cXf"),p=a.n(m),f={data:function(){return{form:{userName:"",password:""},checked:!0,rules:{userName:[{required:!0,trigger:"blur"},{}],password:[{required:!0,trigger:"blur"},{min:6,message:"密码长度在至少6个字符",trigger:"blur"}]}}},methods:{onSubmit:function(){sessionStorage.setItem("userInfo",p()({userName:this.form.userName})),this.$router.push("/")}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",staticClass:"loginContainer",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[a("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),a("el-form-item",{attrs:{prop:"userName"}},[a("el-input",{attrs:{"auto-complete":"on",placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),a("el-checkbox",{staticClass:"rememberpsw",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")])],1)],1)},staticRenderFns:[]};var h=a("Z0/y")(f,g,!1,function(e){a("5/cE")},null,null).exports,v=a("aozt"),b=a.n(v),_={data:function(){return{form:{name:""},formLabelWidth:"100px",tableData:[],currentPage:1,pageSize:10,pageNo:1,totalSize:0,loading:!1,dialogLoading:!1,dialogForm:{name:"",age:0,gender:"",birth:"",addr:""},dialogTitle:"",dialogFormVisible:!1,dialogVisible:!1,sels:[],submitDialog:{},currentRow:{},currentRowId:"",batch:!1,rules:{name:[{required:!0,message:"请填写姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],age:[{required:!0,message:"请填写年龄",trigger:"blur"},{type:"number",message:"年龄必须为数字值",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"blur"}],addr:[{required:!0,message:"请填写地址",trigger:"blur"}],birth:[{type:"date",required:!0,message:"请选择日期",trigger:"change"}]}}},methods:{onSearch:function(){var e,t=this,a={pageNo:this.pageNo,pageSize:this.pageSize,name:this.form.name};this.loading=!0,(e=a,b.a.get("/user/listByPage",{params:e})).then(function(e){t.tableData=e.data.users,t.totalSize=e.data.totalSize,t.loading=!1})},onAdd:function(){this.dialogForm={name:"",age:"",gender:"",birth:"",addr:""},this.dialogTitle="新增用户信息",this.dialogFormVisible=!0,this.submitDialog=this.addUser},handleSelectionChange:function(e){this.sels=e},handleSizeChange:function(e){this.pageSize=e,this.onSearch()},handleCurrentChange:function(e){this.currentPage=e,this.pageNo=e,this.onSearch()},addUser:function(){var e=this;this.dialogLoading=!0,this.dialogForm.gender=Number(this.dialogForm.gender);var t,a={user:this.dialogForm};(t=a,b.a.get("/user/addUsers",{params:t})).then(function(t){console.log(t.data.users[0]),e.tableData=t.data.users,e.totalSize=t.data.totalSize,e.dialogLoading=!1,e.dialogFormVisible=!1})},editUser:function(){var e=this;this.dialogLoading=!0;var t,a={id:this.currentRow.id,user:this.dialogForm};(t=a,b.a.get("/user/editUsers",{params:t})).then(function(t){e.tableData=t.data.users,e.totalSize=t.data.totalSize,e.dialogLoading=!1,e.dialogFormVisible=!1})},deleteUser:function(){var e=this;this.dialogLoading=!0;var t,a=void 0;if(this.batch){var r=[];this.sels.map(function(e){r.push(e.id)}),a={id:r}}else a={id:[this.currentRowId]};(t=a,b.a.get("/user/deleteUsers",{params:t})).then(function(t){e.tableData=t.data.users,e.totalSize=t.data.totalSize,e.dialogLoading=!1,e.dialogVisible=!1,e.batch=!1})},formatGender:function(e){var t=Number(e.gender);return 1===t?"男":0===t?"女":"未知"},batchDelete:function(){this.dialogVisible=!0,this.batch=!0},editTips:function(e){this.dialogTitle="编辑用户信息",this.dialogForm=e,this.currentRow=e,this.dialogFormVisible=!0,this.submitDialog=this.editUser},deleteTips:function(e){this.currentRowId=e.id,this.dialogVisible=!0}},mounted:function(){this.onSearch()}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"list-container"},[a("el-form",{ref:"form",staticClass:"formcss",attrs:{model:e.form,"label-position":"left","label-width":"50px",inline:""}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{clearable:""},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.onSearch(t):null}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.onAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"age",label:"年龄",width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"birth",label:"出生日期",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gender",label:"性别",formatter:e.formatGender,width:"100",sortable:""}}),e._v(" "),a("el-table-column",{attrs:{prop:"addr",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.editTips(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){e.deleteTips(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.batchDelete}},[e._v("批量删除")]),e._v(" "),a("el-button",{on:{click:function(t){e.sels=[]}}},[e._v("取消")])],1),e._v(" "),a("el-pagination",{staticClass:"pagination",attrs:{"current-page":e.currentPage,"page-sizes":[5,10,20,50,100],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.totalSize},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.dialogForm,"label-width":e.formLabelWidth,rules:e.rules}},[a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"请填写姓名"},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name","string"==typeof t?t.trim():t)},expression:"dialogForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄",prop:"age"}},[a("el-input",{attrs:{placeholder:"请填写年龄"},model:{value:e.dialogForm.age,callback:function(t){e.$set(e.dialogForm,"age",e._n(t))},expression:"dialogForm.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.dialogForm.gender,callback:function(t){e.$set(e.dialogForm,"gender",t)},expression:"dialogForm.gender"}},[a("el-option",{attrs:{label:"男",value:1}}),e._v(" "),a("el-option",{attrs:{label:"女",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"地址",prop:"addr"}},[a("el-input",{attrs:{placeholder:"请填写地址"},model:{value:e.dialogForm.addr,callback:function(t){e.$set(e.dialogForm,"addr","string"==typeof t?t.trim():t)},expression:"dialogForm.addr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择出生日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.dialogForm.birth,callback:function(t){e.$set(e.dialogForm,"birth",t)},expression:"dialogForm.birth"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{type:"primary"},on:{click:e.submitDialog}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"删除提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("确定删除用户信息？")]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],attrs:{type:"primary"},on:{click:e.deleteUser}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var w=a("Z0/y")(_,y,!1,function(e){a("dMj1")},null,null).exports,k={data:function(){return{form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:""}}},methods:{onSubmit:function(){console.log("submit!")}}},x={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"活动名称"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动区域"}},[a("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[a("el-option",{attrs:{label:"区域一",value:"shanghai"}}),e._v(" "),a("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"活动时间"}},[a("el-col",{attrs:{span:11}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.date1,callback:function(t){e.$set(e.form,"date1",t)},expression:"form.date1"}})],1),e._v(" "),a("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),e._v(" "),a("el-col",{attrs:{span:11}},[a("el-time-picker",{staticStyle:{width:"100%"},attrs:{type:"fixed-time",placeholder:"选择时间"},model:{value:e.form.date2,callback:function(t){e.$set(e.form,"date2",t)},expression:"form.date2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"即时配送"}},[a("el-switch",{model:{value:e.form.delivery,callback:function(t){e.$set(e.form,"delivery",t)},expression:"form.delivery"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"活动性质"}},[a("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"地推活动",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"线下主题活动",name:"type"}}),e._v(" "),a("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"特殊资源"}},[a("el-radio-group",{model:{value:e.form.resource,callback:function(t){e.$set(e.form,"resource",t)},expression:"form.resource"}},[a("el-radio",{attrs:{label:"线上品牌商赞助"}}),e._v(" "),a("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"活动形式"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")]),e._v(" "),a("el-button",[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var S=a("Z0/y")(k,x,!1,function(e){a("//rK")},null,null).exports,F={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("hello world")])},staticRenderFns:[]},C=a("Z0/y")({},F,!1,null,null,null).exports;r.default.use(i.a);for(var N=new i.a({routes:[{path:"/",name:"用户列表",component:d,iconCls:"el-icon-document",children:[{path:"/list",name:"用户信息",component:w},{path:"/addItem",name:"添加活动",component:S}]},{path:"/",name:"图形分析",component:d,iconCls:"el-icon-picture",children:[{path:"/picAnalysis",name:"图表",component:C}]},{path:"/404",name:"NotFound",component:u,hidden:!0},{path:"/login",name:"Login",component:h,hidden:!0},{path:"*",hidden:!0,redirect:{path:"/404"}}]}),$=a("jPwE"),z=a.n($),V=(a("FVuk"),a("93P3"),a("5/sZ"),a("rVsN")),L=a.n(V),R=a("kUqU"),U=a.n(R),E=a("cLQA"),T=a.n(E),I=[],D=0;D<29;D++)I.push(T.a.mock({id:T.a.Random.guid(),name:T.a.Random.cname(),addr:T.a.mock("@county(true)"),"age|18-60":1,birth:T.a.Random.date(),gender:T.a.Random.integer(0,1)}));({init:function(){var e=new U.a(b.a);e.onGet("/user/list").reply(function(e){console.log(e);var t=e.params.name,a=void 0;return a=t?I.filter(function(e){return t===e.name}):I,new L.a(function(e,t){setTimeout(function(){e([200,{users:a}])},1e3)})}),e.onGet("/user/listByPage").reply(function(e){var t=e.params,a=t.pageNo,r=t.pageSize,n=t.name,o=void 0,i=(o=n?I.filter(function(e){return n===e.name}):I).length;return o=o.filter(function(e,t){return t<r*a&&t>=r*(a-1)}),new L.a(function(e,t){setTimeout(function(){e([200,{totalSize:i,users:o}])},1e3)})}),e.onGet("/user/addUsers").reply(function(e){var t=e.params.user,a=I;a.unshift(t);var r=a.length;return a=a.filter(function(e,t){return t<10&&t>=0}),new L.a(function(e,t){setTimeout(function(){e([200,{totalSize:r,users:a,code:200,msg:"新增用户成功"}])},1e3)})}),e.onGet("/user/editUsers").reply(function(e){var t=e.params,a=t.user,r=t.id;I.some(function(e){if(e.id===r)return e.name=a.name,e.age=a.age,e.gender=a.gender,e.addr=a.addr,e.birth=a.birth,!0});var n=I.length,o=I.filter(function(e,t){return t<10&&t>=0});return new L.a(function(e,t){setTimeout(function(){e([200,{totalSize:n,users:o,code:200,msg:"编辑用户成功"}])},1e3)})}),e.onGet("/user/deleteUsers").reply(function(e){e.params.id.map(function(e){for(var t=0;t<I.length;t++)e===I[t].id&&I.splice(t,1)});var t=I.length,a=I.filter(function(e,t){return t<10&&t>=0});return new L.a(function(e,r){setTimeout(function(){e([200,{totalSize:t,users:a,code:200,msg:"删除用户成功"}])},1e3)})})}}).init(),r.default.config.productionTip=!1,r.default.use(z.a),new r.default({el:"#app",router:N,components:{App:o},template:"<App/>"})},dMj1:function(e,t){},"p/LW":function(e,t){},rpYN:function(e,t){},u5O5:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.072d85ce4bed9770201c.js.map